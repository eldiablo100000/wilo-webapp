webpackJsonp([1],{"27If":function(t,e){},"3yJh":function(t,e){},"9M+g":function(t,e){},Eurl:function(t,e){},Jmt5:function(t,e){},JtrI:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("7+uW"),i=o("e6fC"),r=o.n(i),n={template:'<hr style="border-color: rgba(0, 0, 0, 0.1); margin: 20px;">'},s={name:"App",created:function(){if(null!=localStorage.getItem("auth")&&(this.authenticated=!0,this.user=JSON.parse(localStorage.getItem("user"))),this.authenticated){for(var t in this.menu)if("Pages"===this.menu[t].title)for(var e in this.menu[t].child)"Login Page"===this.menu[t].child[e].title?(this.menu[t].child[e].title="Logout Page",this.menu[t].child[e].href="/auth/logout"):"Registration Page"===this.menu[t].child[e].title&&(this.menu[t].child[e].disabled=!0)}else this.$router.push("/auth/login"),this.myclass="demo",this.authenticated=!1},data:function(){return{user:{},authenticated:null,myclass:"demo extended",mytopnav:"topnav dark-theme",menu:[{header:!0,title:"Navigator"},{href:"/",title:"Add a building",icon:"fa fa-map"},{href:"/buildings",title:"My Buildings",icon:"fa fa-building"},{href:"/floors",title:"My Floors",icon:"fa fa-building"},{header:!0,component:n},{title:"Admin",icon:"fa fa-database",href:"/api",badge:{text:"new"},child:[{href:"/admin/users",title:"Admin User List",icon:"fa fa-user"},{href:"/admin/buildings",title:"Admin Building List",icon:"fa fa-building"},{href:"/admin/floors",title:"Admin Floor List",icon:"fa fa-map-marker"},{href:"/admin/anchors",title:"Admin Anchor List",icon:"fa fa-anchor"}]},{title:"Authentication",icon:"fa fa-file",child:[{href:"/auth/login",title:"Login Page",icon:"fa fa-lock"},{href:"/auth/registration",title:"Registration Page",icon:"fa fa-lock"}]}],collapsed:!1,themes:["white-theme","dark-theme"],selectedTheme:"dark-theme",checked:!0}},methods:{onCollapse:function(t){console.log("collapsed "+t),this.collapsed=t,this.collapsed?this.myclass="demo":this.myclass="demo extended"}},watch:{checked:function(t){this.selectedTheme=t?this.themes[1]:this.themes[0]}}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:[{collapsed:t.collapsed},t.selectedTheme],attrs:{id:"app"}},[o("div",{class:t.myclass},[o("div",[o("b-navbar",{class:t.selectedTheme,attrs:{toggleable:"lg",type:"dark"}},[o("b-navbar-brand",{attrs:{href:"#"}},[t._v("Wilo")]),t._v(" "),o("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),o("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[o("b-navbar-nav",[o("b-nav-item",{class:t.selectedTheme,attrs:{href:"#"}},[t._v("About Wilo")])],1),t._v(" "),o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-form-checkbox",{attrs:{switch:"",name:"check-button"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("\n              Dark theme "),o("b",[t._v("(Enabled: "+t._s(t.checked)+")")])]),t._v(" "),o("b-nav-item-dropdown",{attrs:{right:""}},[t.authenticated?o("template",{class:t.selectedTheme,slot:"button-content"},[o("em",[t._v(t._s(t.user.username))])]):o("template",{class:t.selectedTheme,slot:"button-content"},[o("em",[t._v("Not authenticated")])]),t._v(" "),o("b-dropdown-item",{class:t.selectedTheme,attrs:{href:"#"}},[t._v("Profile")]),t._v(" "),t.authenticated?o("b-dropdown-item",{class:t.selectedTheme,attrs:{href:"#/auth/logout"}},[t._v("Signout")]):o("b-dropdown-item",{class:t.selectedTheme,attrs:{href:"#/auth/login"}},[t._v("Signin")])],2)],1)],1)],1)],1),t._v(" "),o("h1",[t._v("WiLo")]),t._v(" "),o("hr",{staticStyle:{margin:"50px 0px",border:"1px solid #e3e3e3"}}),t._v(" "),o("router-view")],1),t._v(" "),t.authenticated?o("sidebar-menu",{attrs:{menu:t.menu,collapsed:t.collapsed,theme:t.selectedTheme},on:{collapse:t.onCollapse}}):t._e()],1)},staticRenderFns:[]};var c=o("VU/8")(s,l,!1,function(t){o("QNf+")},null,null).exports,d=o("/ocq"),u=o("mtWM"),h=o.n(u),m={name:"BuildingList",data:function(){return{fields:{_id:{label:"ID",sortable:!0,class:"text-center"},title:{label:"Title",sortable:!0,class:"text-center"},road:{label:"Road",sortable:!0,class:"text-center"},number:{label:"Number",sortable:!0,class:"text-center"},postcode:{label:"Postcode",sortable:!0,class:"text-center"},city:{label:"City",sortable:!0,class:"text-center"},country:{label:"Country",sortable:!0,class:"text-center"},coordinates:{label:"Coordinates",sortable:!0,class:"text-center"},updated_date:{label:"Updated at",sortable:!0,class:"text-center"},actions:{label:"Action",class:"text-center"}},buildings:[],errors:[]}},methods:{GoToCreateBuilding:function(){this.$router.push({name:"CreateBuilding"})},details:function(t){this.$router.push({name:"ShowBuilding",params:{id_building:t._id}})}},created:function(){var t=this;this.features=[],h.a.get("http://localhost:3000/user/"+JSON.parse(localStorage.getItem("user"))._id).then(function(e){for(var o in e.data.user.buildings)h.a.get("http://localhost:3000/building/"+e.data.user.buildings[o]).then(function(e){t.buildings.push(e.data)}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})}},g={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      Building List\n      "),o("b-link",{on:{click:function(e){return e.stopPropagation(),t.GoToCreateBuilding()}}},[t._v("(Add Building)")])],1),t._v(" "),o("b-table",{class:t.$parent.selectedTheme,attrs:{striped:"",hover:"",items:t.buildings,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[o("b-btn",{attrs:{size:"sm"},on:{click:function(o){return o.stopPropagation(),t.details(e.item)}}},[t._v("Details")])]}}])}),t._v(" "),t.errors&&t.errors.length?o("ul",t._l(t.errors,function(e){return o("li",{key:e},[t._v("\n        "+t._s(e.message)+"\n      ")])}),0):t._e()],1)],1)},staticRenderFns:[]},f=o("VU/8")(m,g,!1,null,null,null).exports,p=[],b={name:"ShowBuilding",data:function(){return{building:{},buildingId:"",center:[0,0],coordinates:[],errors:[],features:p,floorList:"",floors:[],geocoder:void 0,numbers:[],rotation:0,showMap:!0,state:"required",user:{},userId:"",zoom:19}},methods:{GoToBuildingList:function(){this.$router.push({name:"BuildingList"})},addfloor:function(t){this.$router.push({name:"CreateFloor",params:{id_building:t}})},floorlist:function(t){this.$router.push({name:"FloorList",params:{id_building:t}})},editbuilding:function(t){this.$router.push({name:"EditBuilding",params:{id_building:t}})},deletebuilding:function(t){var e=this;h.a.delete("http://localhost:3000/building/"+t).then(function(o){h.a.get("http://localhost:3000/user/"+JSON.parse(localStorage.getItem("user"))._id).then(function(o){var a=o.data.user.buildings.indexOf(t);a>-1&&(o.data.user.buildings.splice(a,1),e.user=o.data.user),h.a.put("http://localhost:3000/user/"+JSON.parse(localStorage.getItem("user"))._id,e.user).then(function(t){e.$router.push({name:"BuildingList"})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}},created:function(){var t=this;this.features=[],h.a.get("http://localhost:3000/building/"+this.$route.params.id_building).then(function(e){if(null!=e.data){t.building=e.data,console.log(e.data);var o={id:e.data.title,type:"Feature",properties:null,geometry:{type:"Point",coordinates:e.data.coordinates}};for(var a in t.center=e.data.coordinates,t.features.push(o),e.data.floors)h.a.get("http://localhost:3000/floor/"+e.data.floors[a]).then(function(e){t.floors.push(e.data),t.numbers.push(e.data.number)}).catch(function(e){t.errors.push(e)})}}).catch(function(e){t.errors.push(e)})}},v={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n        Show Building\n        "),o("b-link",{on:{click:function(e){return e.stopPropagation(),t.GoToBuildingList()}}},[t._v("(Building List)")])],1),t._v(" "),o("b-jumbotron",[o("template",{slot:"header"},[t._v("\n          "+t._s(t.building.title)+"\n        ")]),t._v(" "),o("template",{slot:"lead"},[t._v("\n          City: "+t._s(t.building.city)),o("br"),t._v("\n          Number: "+t._s(t.building.number)),o("br"),t._v("\n          Road: "+t._s(t.building.road)),o("br"),t._v("\n          Postcode: "+t._s(t.building.postcode)),o("br"),t._v("\n          Country: "+t._s(t.building.country)),o("br"),t._v("\n          Floors: "+t._s(t.numbers)),o("br"),t._v("\n          Description: "+t._s(t.building.description)),o("br")]),t._v(" "),o("div",{staticStyle:{height:"50%",width:"100%"}},[t.showMap?o("vl-map",{ref:"map",attrs:{"data-projection":"EPSG:3857",renderer:"webgl"}},[o("vl-view",{attrs:{center:t.center,rotation:t.rotation,zoom:t.zoom},on:{"update:center":function(e){t.center=e},"update:rotation":function(e){t.rotation=e},"update:zoom":function(e){t.zoom=e}}}),t._v(" "),o("vl-layer-tile",[o("vl-source-osm")],1),t._v(" "),o("vl-layer-vector",{attrs:{id:"features"}},[o("vl-source-vector",{attrs:{features:t.features},on:{"update:features":function(e){t.features=e}}})],1),t._v(" "),t._l(t.features,function(e,a){return[o("vl-feature",{key:a},[o("vl-geom-point",{attrs:{coordinates:e.geometry.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/marker.png",scale:.4,anchor:[.5,1]}})],1)],1)]})],2):t._e()],1),t._v(" "),o("hr",{staticClass:"my-4"}),t._v(" "),o("p",[t._v("\n          Updated Date: "+t._s(t.building.updated_date)+"\n        ")]),t._v(" "),o("b-btn",{attrs:{variant:"success"},on:{click:function(e){return e.stopPropagation(),t.addfloor(t.building._id)}}},[t._v("Add Floor")]),t._v(" "),o("b-btn",{attrs:{variant:"warning"},on:{click:function(e){return e.stopPropagation(),t.floorlist(t.building._id)}}},[t._v("Floor List")]),t._v(" "),o("b-btn",{attrs:{variant:"success"},on:{click:function(e){return e.stopPropagation(),t.editbuilding(t.building._id)}}},[t._v("Edit")]),t._v(" "),o("b-btn",{attrs:{variant:"danger"},on:{click:function(e){return e.stopPropagation(),t.deletebuilding(t.building._id)}}},[t._v("Delete")])],2)],1)],1)],1)},staticRenderFns:[]};var _=o("VU/8")(b,v,!1,function(t){o("Eurl")},null,null).exports,y=o("MJuv"),w=o("Mcmv"),S=o.n(w),x=[],k={name:"CreateBuilding",data:function(){return{building:{},buildingId:"",center:[0,0],coordinates:[],errors:[],features:x,floorList:"",geocoder:void 0,rotation:0,scaleX:void 0,scaleY:void 0,showMap:!0,state:"required",user:{},userId:"",zoom:19,continuePost:void 0,buildingName:[]}},methods:{GoToBuildingList:function(){this.$router.push({name:"BuildingList"})},onSubmit:function(t){var e=this;for(var o in t.preventDefault(),this.continuePost=!0,null!=this.building.title&&""!==this.building.title||(alert("insert a building's name"),this.continuePost=!1),null==this.building.coordinates&&(alert("insert an valid address"),this.continuePost=!1),this.buildingName)if(this.building.title===this.buildingName[o]&&(alert("name building already insert"),this.continuePost=!1),!this.continuePost)break;this.continuePost&&(this.userId=JSON.parse(localStorage.getItem("user"))._id,this.building.id_user=this.userId,h.a.post("http://localhost:3000/building",this.building).then(function(t){e.buildingId=t.data._id,h.a.get("http://localhost:3000/user/"+e.userId).then(function(t){e.user=t.data.user,e.user.buildings.push(e.buildingId),h.a.put("http://localhost:3000/user/"+e.userId,e.user).then(function(t){e.$router.push({name:"ShowBuilding",params:{id_building:e.buildingId}})}).catch(function(t){e.errors.push(t),console.log(t)})}).catch(function(t){e.errors.push(t),console.log(t)})}).catch(function(t){e.errors.push(t)}))}},created:function(){var t=this;this.features=[],this.floorList="#/building/"+this.$route.params.id_building+"/floors",h.a.get("http://localhost:3000/user/"+JSON.parse(localStorage.getItem("user"))._id).then(function(e){for(var o in e.data.user.buildings)h.a.get("http://localhost:3000/building/"+e.data.user.buildings[o]).then(function(e){console.log(e.data),t.buildingName.push(e.data.title);var o={id:e.data.title,type:"Feature",properties:null,geometry:{type:"Point",coordinates:e.data.coordinates}};t.center=e.data.coordinates,t.features.push(o)}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})},computed:{selectCondition:function(){return this.selectByHover?y.i:y.l}},mounted:function(){var t=this;this.geocoder=new S.a("nominatim",{provider:"osm",lang:"it",placeholder:"Search for ...",limit:5,debug:!0,autoComplete:!0,keepOpen:!0}),this.$refs.map.$createPromise.then(function(){t.$refs.map.$map.addControl(t.geocoder);var e=t;t.geocoder.on("addresschosen",function(t){console.log(t),e.building.coordinates=t.coordinate,e.building.road=t.address.details.road,e.building.city=t.address.details.city,e.building.country=t.address.details.country,e.building.number=t.address.details.houseNumber,e.building.postcode=t.address.details.postcode,console.log(e.building)})})},watch:{features:function(t){console.log(t)}}},I={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n            Add Building\n            "),o("b-link",{on:{click:function(e){return e.stopPropagation(),t.GoToBuildingList()}}},[t._v("(Building List)")])],1),t._v(" "),o("b-form",{on:{submit:t.onSubmit}},[o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,label:"Enter Title"}},[o("b-form-input",{attrs:{id:"title",state:t.state},model:{value:t.building.title,callback:function(e){t.$set(t.building,"title","string"==typeof e?e.trim():e)},expression:"building.title"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Address"}},[o("div",{staticStyle:{height:"100%",width:"100%"}},[t.showMap?o("vl-map",{ref:"map",attrs:{"data-projection":"EPSG:3857",renderer:"webgl"}},[o("vl-view",{attrs:{center:t.center,rotation:t.rotation,zoom:t.zoom},on:{"update:center":function(e){t.center=e},"update:rotation":function(e){t.rotation=e},"update:zoom":function(e){t.zoom=e}}}),t._v(" "),o("vl-layer-tile",[o("vl-source-osm")],1),t._v(" "),o("vl-layer-vector",{attrs:{id:"features"}},[o("vl-source-vector",{attrs:{features:t.features},on:{"update:features":function(e){t.features=e}}})],1),t._v(" "),t._l(t.features,function(e,a){return[o("vl-feature",{key:a},[o("vl-geom-point",{attrs:{coordinates:e.geometry.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/marker.png",scale:.4,anchor:[.5,1]}})],1)],1)]})],2):t._e()],1)]),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Description"}},[o("b-form-textarea",{attrs:{id:"description",placeholder:"Enter something",rows:2,"max-rows":6},model:{value:t.building.description,callback:function(e){t.$set(t.building,"description",e)},expression:"building.description"}},[t._v(t._s(t.building.description))])],1),t._v(" "),o("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Save")])],1)],1)],1)],1)},staticRenderFns:[]},$=o("VU/8")(k,I,!1,null,null,null).exports,z=[],F={name:"EditBuilding",data:function(){return{building:{},buildingId:"",center:[0,0],checked:!1,coordinates:[],errors:[],features:z,floorList:"",geocoder:void 0,image:!1,imgAnchor:[0,0],imgCenter:void 0,imgExtent:[],imgRotation:0,imgScaleValue:.4,imgSize:[],imgSrc:"",imgStatic:!0,rotation:0,scaleX:void 0,scaleY:void 0,showMap:!0,state:"required",user:{},userId:"",zoom:19}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),h.a.put("http://localhost:3000/building/"+this.$route.params.id_building,this.building).then(function(t){e.$router.push({name:"ShowBuilding",params:{id_building:e.$route.params.id_building}})}).catch(function(t){e.errors.push(t)})}},created:function(){var t=this;this.features=[],h.a.get("http://localhost:3000/building/"+this.$route.params.id_building).then(function(e){t.building=e.data,console.log(e.data);var o={id:e.data.title,type:"Feature",properties:null,geometry:{type:"Point",coordinates:e.data.coordinates}};t.center=e.data.coordinates,t.features.push(o)}).catch(function(e){t.errors.push(e)})},computed:{selectCondition:function(){return this.selectByHover?y.i:y.l}},mounted:function(){var t=this;this.geocoder=new S.a("nominatim",{provider:"osm",lang:"it",placeholder:"Search for ...",limit:5,debug:!0,autoComplete:!0,keepOpen:!0}),this.$refs.map.$createPromise.then(function(){t.$refs.map.$map.addControl(t.geocoder);var e=t;t.geocoder.on("addresschosen",function(t){console.log(t),e.building.coordinates=t.coordinate,e.building.road=t.address.details.road,e.building.city=t.address.details.city,e.building.country=t.address.details.country,e.building.number=t.address.details.houseNumber,e.building.postcode=t.address.details.postcode,console.log(e.building)})})}},P={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      Edit Building\n      "),o("router-link",{attrs:{to:{name:"ShowBuilding",params:{id:t.building._id}}}},[t._v("(Show Building)")])],1),t._v(" "),o("b-form",{on:{submit:t.onSubmit}},[o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Title"}},[o("b-form-input",{attrs:{id:"title",state:t.state},model:{value:t.building.title,callback:function(e){t.$set(t.building,"title","string"==typeof e?e.trim():e)},expression:"building.title"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter City"}},[o("b-form-input",{attrs:{id:"city",state:t.state},model:{value:t.building.city,callback:function(e){t.$set(t.building,"city","string"==typeof e?e.trim():e)},expression:"building.city"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Country"}},[o("b-form-input",{attrs:{id:"city",state:t.state},model:{value:t.building.country,callback:function(e){t.$set(t.building,"country","string"==typeof e?e.trim():e)},expression:"building.country"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Road"}},[o("b-form-input",{attrs:{id:"city",state:t.state},model:{value:t.building.road,callback:function(e){t.$set(t.building,"road","string"==typeof e?e.trim():e)},expression:"building.road"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Number"}},[o("b-form-input",{attrs:{id:"city",state:t.state},model:{value:t.building.number,callback:function(e){t.$set(t.building,"number","string"==typeof e?e.trim():e)},expression:"building.number"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Postcode"}},[o("b-form-input",{attrs:{id:"city",state:t.state},model:{value:t.building.postcode,callback:function(e){t.$set(t.building,"postcode","string"==typeof e?e.trim():e)},expression:"building.postcode"}})],1),t._v(" "),o("div",{staticStyle:{height:"100%",width:"100%"}},[t.showMap?o("vl-map",{ref:"map",attrs:{"data-projection":"EPSG:3857",renderer:"webgl"}},[o("vl-view",{attrs:{center:t.center,rotation:t.rotation,zoom:t.zoom},on:{"update:center":function(e){t.center=e},"update:rotation":function(e){t.rotation=e},"update:zoom":function(e){t.zoom=e}}}),t._v(" "),o("vl-layer-tile",[o("vl-source-osm")],1),t._v(" "),t.imgStatic&&t.image?o("vl-feature",{attrs:{id:"static-image"}},[o("vl-geom-point",{attrs:{coordinates:t.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:t.imgSrc,size:t.imgScaleValue,anchor:t.imgAnchor,rotation:t.imgRotation},on:{"update:rotation":function(e){t.imgRotation=e}}})],1)],1):t._e(),t._v(" "),o("vl-layer-vector",{attrs:{id:"features"}},[o("vl-source-vector",{attrs:{features:t.features},on:{"update:features":function(e){t.features=e}}})],1),t._v(" "),t._l(t.features,function(e,a){return[o("vl-feature",{key:a},[o("vl-geom-point",{attrs:{coordinates:e.geometry.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/marker.png",scale:.4,anchor:[.5,1]}})],1)],1)]})],2):t._e()],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Description"}},[o("b-form-textarea",{attrs:{id:"description",placeholder:"Enter something",rows:2,"max-rows":6},model:{value:t.building.description,callback:function(e){t.$set(t.building,"description",e)},expression:"building.description"}},[t._v(t._s(t.building.description))])],1),t._v(" "),o("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Update")])],1)],1)],1)},staticRenderFns:[]},A=o("VU/8")(F,P,!1,null,null,null).exports,C={name:"FloorList",data:function(){return{fields:{_id:{label:"ID",sortable:!0,class:"text-center"},number:{label:"Number",sortable:!0,class:"text-center"},id_building:{label:"ID building",sortable:!0,class:"text-center"},location:{label:"Location",sortable:!0,class:"text-center"},zoom:{label:"Zoom",sortable:!0,class:"text-center"},updated_date:{label:"Updated at",sortable:!0,class:"text-center"},actions:{label:"Action",class:"text-center"}},errors:[],floors:[]}},created:function(){var t=this;h.a.get("http://localhost:3000/building/"+this.$route.params.id_building).then(function(e){for(var o in t.floorsId=e.data.floors,t.floorsId)h.a.get("http://localhost:3000/floor/"+t.floorsId[o]).then(function(e){null!=e.data&&t.floors.push(e.data)}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})},methods:{details:function(t){this.$router.push({name:"ShowFloor",params:{id_building:this.$route.params.id_building,id_floor:t._id}})}}},L={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      Floor List\n      "),o("b-link",{attrs:{href:t.addFloor}},[t._v("(Add Floor)")])],1),t._v(" "),o("b-table",{class:t.$parent.selectedTheme,attrs:{striped:"",hover:"",items:t.floors,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[o("b-btn",{attrs:{size:"sm"},on:{click:function(o){return o.stopPropagation(),t.details(e.item)}}},[t._v("Details")])]}}])}),t._v(" "),t.errors&&t.errors.length?o("ul",t._l(t.errors,function(e){return o("li",{key:e},[t._v("\n        "+t._s(e.message)+"\n      ")])}),0):t._e()],1)],1)},staticRenderFns:[]},E=o("VU/8")(C,L,!1,null,null,null).exports,R={name:"UserFloorList",data:function(){return{fields:{_id:{label:"ID",sortable:!0,class:"text-center"},number:{label:"Number",sortable:!0,class:"text-center"},id_building:{label:"ID building",sortable:!0,class:"text-center"},location:{label:"Location",sortable:!0,class:"text-center"},zoom:{label:"Zoom",sortable:!0,class:"text-center"},updated_date:{label:"Updated at",sortable:!0,class:"text-center"},actions:{label:"Action",class:"text-center"}},errors:[],floors:[]}},created:function(){var t=this;h.a.get("http://localhost:3000/user/"+JSON.parse(localStorage.getItem("user"))._id).then(function(e){for(var o in e.data.user.buildings)h.a.get("http://localhost:3000/building/"+e.data.user.buildings[o]).then(function(e){for(var o in e.data.floors)h.a.get("http://localhost:3000/floor/"+e.data.floors[o]).then(function(e){null!=e.data&&t.floors.push(e.data)}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})},methods:{details:function(t){this.$router.push({name:"ShowFloor",params:{id_building:t.id_building,id_floor:t._id}})}}},T={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      Floor List\n      "),o("b-link",{attrs:{href:t.addFloor}},[t._v("(Add Floor)")])],1),t._v(" "),o("b-table",{class:t.$parent.selectedTheme,attrs:{striped:"",hover:"",items:t.floors,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[o("b-btn",{attrs:{size:"sm"},on:{click:function(o){return o.stopPropagation(),t.details(e.item)}}},[t._v("Details")])]}}])}),t._v(" "),t.errors&&t.errors.length?o("ul",t._l(t.errors,function(e){return o("li",{key:e},[t._v("\n        "+t._s(e.message)+"\n      ")])}),0):t._e()],1)],1)},staticRenderFns:[]},U=o("VU/8")(R,T,!1,null,null,null).exports,M=[],N={name:"ShowFloor",data:function(){return{building:{},center:[0,0],coordinates:[],errors:[],features:M,floor:{},floorList:"",geocoder:void 0,image:!1,imgAnchor:[0,0],imgCenter:void 0,imgExtent:[],imgRotation:0,imgSize:[],imgSrc:"",imgScale:void 0,realImgScale:void 0,imgStatic:!0,rotation:0,showMap:!0,zoom:19,precedentZoom:null}},created:function(){var t=this;this.floorList="#/building/"+this.$route.params.id_building+"/floors",this.floorId=this.$route.params.id_floor,h.a.get("http://localhost:3000/floor/"+this.floorId).then(function(e){null!=e.data&&(console.log(e.data),t.imgRotation=e.data.angleImage*Math.PI/180,t.coordinates=e.data.location[0],console.log(t.coordinates),t.center=t.coordinates,t.floor=e.data,t.zoom=e.data.zoom,t.imgSize=[e.data.widthImage,e.data.heightImage],console.log("ciao"),console.log(t.imgRotation),console.log(e.data.angleImage),t.imgScale=e.data.scaleX,t.realImgScale=e.data.scaleX,t.image=!0,h.a.get("http://localhost:3000/image/"+e.data.image[0]).then(function(e){if(console.log(e),null!=e.data){var o=e.data.path.replace("dist/","");t.imgSrc="http://localhost:3000/"+o}}).catch(function(e){t.errors.push(e)}))}).catch(function(e){t.errors.push(e)})},methods:{editfloor:function(t){this.$router.push({name:"EditFloor",params:{id_floor:t}})},addanchor:function(t){this.$router.push({name:"CreateAnchor",params:{id_building:this.$route.params.id_building,id_floor:t}})},anchorlist:function(t){this.$router.push({name:"AnchorList",params:{id_building:this.$route.params.id_building,id_floor:t}})},deletefloor:function(t){var e=this;h.a.delete("http://localhost:3000/floor/"+t).then(function(o){h.a.get("http://localhost:3000/building/"+e.$route.params.id_building).then(function(o){var a=o.data.floors.indexOf(t);a>-1&&(o.data.floors.splice(a,1),e.building=o.data),h.a.put("http://localhost:3000/building/"+e.$route.params.id_building,e.building).then(function(t){e.$router.push({name:"FloorList"})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}},watch:{zoom:function(t){console.log("1"),this.imgScale=this.realImgScale,null!==this.precedentZoom&&(this.precedentZoom<this.zoom?(this.realImgScale=2*this.realImgScale,this.imgScale=2*this.imgScale):(this.imgScale=this.imgScale/2,this.realImgScale=this.realImgScale/2),this.realImgScale<1e-11&&(this.imgScale=.03)),this.precedentZoom=this.zoom}}},D={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      Show Floor\n      "),o("b-link",{attrs:{href:t.floorList}},[t._v("(Floor List)")])],1),t._v(" "),o("b-jumbotron",[o("template",{slot:"header"},[t._v("\n        "+t._s(t.floor.number)+"\n      ")]),t._v(" "),o("template",{slot:"lead"},[t._v("\n        number: "+t._s(t.floor.number)),o("br")]),t._v(" "),o("hr",{staticClass:"my-4"}),t._v(" "),o("p",[t._v("\n        Updated Date: "+t._s(t.floor.updated_date)+"\n      ")]),t._v(" "),o("b-btn",{attrs:{variant:"success"},on:{click:function(e){return e.stopPropagation(),t.addanchor(t.floor._id)}}},[t._v("Add Anchor")]),t._v(" "),o("b-btn",{attrs:{variant:"success"},on:{click:function(e){return e.stopPropagation(),t.anchorlist(t.floor._id)}}},[t._v("Anchor list")]),t._v(" "),o("b-btn",{attrs:{variant:"success"},on:{click:function(e){return e.stopPropagation(),t.editfloor(t.floor._id)}}},[t._v("Edit")]),t._v(" "),o("b-btn",{attrs:{variant:"danger"},on:{click:function(e){return e.stopPropagation(),t.deletefloor(t.floor._id)}}},[t._v("Delete")])],2)],1)],1),t._v(" "),o("div",{staticStyle:{height:"50%",width:"100%"}},[t.showMap?o("vl-map",{ref:"map",attrs:{"data-projection":"EPSG:3857",renderer:"webgl"}},[o("vl-view",{attrs:{center:t.center,rotation:t.rotation,zoom:t.zoom},on:{"update:center":function(e){t.center=e},"update:rotation":function(e){t.rotation=e},"update:zoom":function(e){t.zoom=e}}}),t._v(" "),o("vl-layer-tile",[o("vl-source-osm")],1),t._v(" "),t.imgStatic&&t.image?o("vl-feature",{attrs:{id:"static-image"}},[o("vl-geom-point",{attrs:{coordinates:t.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{id:"image",src:t.imgSrc,opacity:.6,scale:t.imgScale,anchor:t.imgAnchor,rotation:t.imgRotation},on:{"update:scale":function(e){t.imgScale=e},"update:rotation":function(e){t.imgRotation=e}}})],1)],1):t._e()],1):t._e()],1)],1)},staticRenderFns:[]};var B=o("VU/8")(N,D,!1,function(t){o("3yJh")},null,null).exports,X=o("//Fk"),H=o.n(X),Y=o("Xxa5"),V=o.n(Y),q=o("exGp"),Z=o.n(q),j=o("Dd8w"),O=o.n(j),G=o("ujjq"),J=o.n(G),W={name:"ManipulateImage",components:{FreeTransform:J.a},data:function(){return{buildingId:void 0,center:[0,0],drawnFeatures:[],drawType:null,interactionType:null,drz:void 0,elements:[{id:"el-1",x:100,y:100,scaleX:1,scaleY:1,width:200,height:200,angle:0,classPrefix:"tr",text:"upload image",styles:{backgroundImage:void 0,opacity:.7}}],errors:[],features:[],floor:{},floorId:void 0,floorList:"",geocoder:void 0,geolocPosition:void 0,graticule:!1,growing:0,image:void 0,img:!1,imgAnchor:[0,0],imgCenter:void 0,imgExtent:[],imgRotation:0,imgScaleValue:.4,imgSize:[],imgStatic:!0,location:[],offsetY:0,offsetX:0,projection:"",rotate:void 0,rotation:0,rotation1:1,selectByHover:!1,selectedFeatures:[],selectedImage:null,showMap:!0,step:1e6,zoom:19,floorName:[],continuePost:void 0}},mounted:function(){this.offsetX=this.$refs.workspace.offsetLeft,this.offsetY=this.$refs.workspace.offsetTop},created:function(){var t=this;this.floorList="#/building/"+this.$route.params.id_building+"/floors",h.a.get("http://localhost:3000/building/"+this.$route.params.id_building).then(function(e){for(var o in t.center=e.data.coordinates,t.floorsId=e.data.floors,t.floorsId)h.a.get("http://localhost:3000/floor/"+t.floorsId[o]).then(function(e){if(null!=e.data)for(var o in console.log(e.data),t.floorName.push(e.data.number),e.data.location){var a={id:e.data._id+o,type:"Feature",properties:null,geometry:{type:"Point",coordinates:e.data.location[o]}};t.features.push(a);break}}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})},watch:{drawnFeatures:function(t){console.log("drawnFeatures"),console.log("%c drawnFeatures ","background: #222; color: yellow"),console.log(t)},selectedFeatures:function(t){console.log("selectedFeatures"),console.log("%c selectedFeatures ","background: #222; color: green"),console.log(t)},features:function(t){console.log("fetchedFeatures"),console.log("%c fetchedFeatures ","background: #222; color: red"),console.log(t)},elements:function(t){var e=document.getElementsByClassName("tr-transform__scale-point tr-transform__scale-point--bl")[0];console.log(e);var o=t[0].angle*Math.PI/180,a=[Math.cos(o)*t[0].x-Math.sin(o)*t[0].y,Math.sin(o)*t[0].x+Math.cos(o)*t[0].y];console.log(a),console.log(t[0].x),console.log(t[0].y),console.log(o)},center:function(t){console.log("%c "+t[0]+" "+t[1],"background: #222; color: white")}},methods:{update:function(t,e){this.elements=this.elements.map(function(o){return o.id===t?O()({},o,e):o})},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.selectedImage=t.target.files[0],this.createImage(e[0]))},createImage:function(t){console.log(t);var e=new FileReader,o=this;o.image=new Image,e.onload=function(t){o.image=t.target.result},e.readAsDataURL(t);var a=window.URL||window.webkitURL;this.resetElement(a.createObjectURL(t))},removeImage:function(t){this.image=""},onFileChanged:function(t){var e="static/"+t.target.files[0].name;this.selectedImage=t.target.files[0],console.log(t.target.files[0]),this.resetElement(e)},save:function(){var t=this;for(var e in this.continuePost=!0,null!=this.floor.number&&""!==this.floor.number||(alert("insert a floor number"),this.continuePost=!1),this.floorName)if(this.floor.number===this.floorName[e]&&(alert("floor number already insert"),this.continuePost=!1),!this.continuePost)break;if(null==this.selectedImage&&(alert("insert an image"),this.continuePost=!1),this.continuePost){this.elements[0].angle<0?this.floor.angleImage=360-Math.abs(this.elements[0].angle):this.floor.angleImage=this.elements[0].angle,this.floor.widthImage=this.elements[0].width,this.floor.heightImage=this.elements[0].height,this.floor.xImage=this.elements[0].x,this.floor.yImage=this.elements[0].y,this.floor.scaleX=this.elements[0].scaleX,this.floor.scaleY=this.elements[0].scaleY,this.floor.zoom=this.zoom;var o=this.elements[0].x+this.elements[0].width-this.elements[0].width*this.elements[0].scaleX,a=this.elements[0].y+this.elements[0].height-this.elements[0].height*this.elements[0].scaleY,i=[this.elements[0].x+(this.elements[0].width-this.elements[0].width*this.elements[0].scaleX/2),this.elements[0].y+(this.elements[0].height-this.elements[0].height*this.elements[0].scaleY/2)],r=this.floor.angleImage*Math.PI/180,n=[Math.cos(r)*(o-i[0])-Math.sin(r)*(a-i[1]),Math.sin(r)*(o-i[0])+Math.cos(r)*(a-i[1])];for(var s in this.location[0]=this.$refs.map.getCoordinateFromPixel([n[0]+i[0],n[1]+i[1]]),this.location){var l={id:this.floor.number+s,type:"Feature",properties:null,geometry:{type:"Point",coordinates:this.location[s]}};this.features.push(l)}this.floor.location=this.location;var c=new FormData;c.append("myFile",this.selectedImage,this.selectedImage.name),h.a.post("http://localhost:3000/image",c).then(function(e){t.floor.image=e.data._id,t.floor.id_building=t.$route.params.id_building,h.a.post("http://localhost:3000/floor",t.floor).then(function(e){t.floorId=e.data._id,t.buildingId=t.$route.params.id_building,h.a.get("http://localhost:3000/building/"+t.buildingId).then(function(e){t.building=e.data,t.building.floors.push(t.floorId),h.a.put("http://localhost:3000/building/"+t.buildingId,t.building).then(function(t){}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e),console.log(e)})}).catch(function(e){t.errors.push(e),console.log(e)})}).catch(function(e){t.errors.push(e)})}},resetElement:function(){var t=Z()(V.a.mark(function t(e){var o;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(o=new Image).src=e,t.next=4,this.sleep(500);case 4:this.elements[0].width=o.width,this.elements[0].height=o.height,this.elements[0].angle=0,this.elements[0].text="",this.elements[0].styles.backgroundImage="url("+e+")",this.elements[0].scaleX=1,this.elements[0].scaleY=1,this.elements[0].x=100,this.elements[0].y=100;case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sleep:function(t){return new H.a(function(e){return setTimeout(e,t)})},getElementStyles:function(t){var e=t.styles?t.styles:{};return O()({width:t.width+"px",height:t.height+"px"},e)},onSubmit:function(t){var e=this;t.preventDefault(),this.floor.id_building=this.$route.params.id_building,this.floor.id_user=JSON.parse(localStorage.getItem("user"))._id,h.a.post("http://localhost:3000/floor",this.floor).then(function(t){e.floorId=t.data._id,e.buildingId=e.$route.params.id_building,h.a.get("http://localhost:3000/building/"+e.buildingId).then(function(t){e.building=t.data,e.building.floors.push(e.floorId),h.a.put("http://localhost:3000/building/"+e.buildingId,e.building).then(function(t){e.$router.push({name:"FloorList",params:{id_building:e.$route.params.id_building}})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}}},Q={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("\n    Add Floor\n    "),o("b-link",{attrs:{href:t.floorList}},[t._v("(Floor List)")])],1),t._v(" "),o("b-form",{on:{submit:t.onSubmit}},[o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Number"}},[o("b-form-input",{attrs:{id:"number",state:t.state},model:{value:t.floor.number,callback:function(e){t.$set(t.floor,"number","string"==typeof e?e.trim():e)},expression:"floor.number"}})],1)],1),t._v(" "),o("div",{attrs:{id:"click"}},[t.image?o("div",[o("button",{on:{click:t.removeImage}},[t._v("Remove image")])]):o("div",[o("h2",[t._v("Select an image")]),t._v(" "),o("input",{attrs:{type:"file"},on:{change:t.onFileChange}})]),t._v(" "),o("button",{on:{click:t.save}},[t._v("Save!")])]),t._v(" "),t.showMap?o("vl-map",{ref:"map",staticStyle:{height:"500px"},attrs:{"data-projection":"EPSG:3857",renderer:"webgl"}},[o("vl-view",{attrs:{center:t.center,rotation:t.rotation,zoom:t.zoom},on:{"update:center":function(e){t.center=e},"update:rotation":function(e){t.rotation=e},"update:zoom":function(e){t.zoom=e}}}),t._v(" "),o("div",{staticClass:"wrapper",attrs:{position:"absolute"}},[o("div",{ref:"workspace",staticClass:"workspace"},t._l(t.elements,function(e){return o("FreeTransform",{key:e.id,attrs:{x:e.x,y:e.y,"scale-x":e.scaleX,"scale-y":e.scaleY,width:e.width,height:e.height,angle:e.angle,"offset-x":t.offsetX,"offset-y":t.offsetY,"disable-scale":!1===e.disableScale},on:{update:function(o){return t.update(e.id,o)}}},[o("div",{staticClass:"element",style:t.getElementStyles(e)},[t._v("\n            "+t._s(e.text)+"\n          ")])])}),1)]),t._v(" "),t.img?o("vl-layer-image",{attrs:{id:"xkcd",overlay:!0,opacity:.5}},[o("vl-source-image-static",{attrs:{url:t.imgUrl,size:t.imgSize,extent:t.imgExtent,projection:t.projection,attributions:t.imgCopyright}})],1):t._e(),t._v(" "),o("vl-layer-tile",[o("vl-source-osm")],1),t._v(" "),t.imgStatic&&t.img?o("vl-feature",{attrs:{id:"static-image"}},[o("vl-geom-point",{attrs:{coordinates:[12.4098176,44.51205119999997],"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/logo.png",scale:t.imgScaleValue,anchor:t.imgAnchor,rotation:t.imgRotation},on:{"update:rotation":function(e){t.imgRotation=e}}})],1)],1):t._e(),t._v(" "),o("vl-layer-vector",{attrs:{id:"features"}},[o("vl-source-vector",{attrs:{features:t.features},on:{"update:features":function(e){t.features=e}}})],1),t._v(" "),t._l(t.features,function(e,a){return[o("vl-feature",{key:a},[o("vl-geom-point",{attrs:{coordinates:e.geometry.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/marker.png",scale:.4,anchor:[.5,1]}})],1)],1)]}),t._v(" "),o("vl-layer-vector",{attrs:{id:"draw-pane","z-index":0}},[o("vl-source-vector",{attrs:{features:t.drawnFeatures,ident:"draw-target"},on:{"update:features":function(e){t.drawnFeatures=e}}})],1),t._v(" "),null!=t.drawType&&"draw"==t.interactionType?o("vl-interaction-draw",{attrs:{type:t.drawType,source:"draw-target"}}):t._e(),t._v(" "),"modify"==t.interactionType?o("vl-interaction-modify",{attrs:{type:t.drawType,source:"draw-target"}}):t._e(),t._v(" "),"select"==t.interactionType?o("vl-interaction-select",{ref:"select",attrs:{condition:t.selectCondition,features:t.selectedFeatures},on:{"update:features":function(e){t.selectedFeatures=e}}}):t._e(),t._v(" "),1==t.selectedFeatures.length?o("vl-feature",{attrs:{properties:{start:Date.now(),duration:2500}}},["Point"===t.selectedFeatures[0].geometry.type?o("vl-geom-point",{attrs:{coordinates:t.selectedFeatures[0].geometry.coordinates,"z-index":3}}):t._e(),t._v(" "),"Polygon"===t.selectedFeatures[0].geometry.type?o("vl-geom-point",{attrs:{coordinates:t.selectedFeatures[0].geometry.coordinates[0][0],"z-index":3}}):t._e(),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/logo.png",scale:.1,anchor:[.5,1]}})],1)],1):t._e()],2):t._e()],1)},staticRenderFns:[]};var K=o("VU/8")(W,Q,!1,function(t){o("cI+1")},null,null).exports,tt={name:"EditFloor",components:{FreeTransform:J.a},data:function(){return{elements:[{id:"el-1",x:100,y:100,scaleX:1,scaleY:1,width:200,height:200,angle:0,classPrefix:"tr",styles:{backgroundImage:void 0,opacity:.7}}],floor:{},showMap:!0,center:[0,0],rotation:0,zoom:void 0,imgStatic:!0,image:!1,coordinates:[],imgSrc:"",imgScale:void 0,realImgScale:void 0,imgAnchor:[0,0],imgRotation:void 0,floorId:void 0,buildingId:void 0,precedentZoom:null}},mounted:function(){this.offsetX=this.$refs.workspace.offsetLeft,this.offsetY=this.$refs.workspace.offsetTop},created:function(){var t=this;this.floorList="#/building/"+this.$route.params.id_building+"/floors",this.floorId=this.$route.params.id_floor,this.buildingId=this.$route.params.id_building,h.a.get("http://localhost:3000/building/"+this.buildingId).then(function(e){t.center=e.data.coordinates,h.a.get("http://localhost:3000/floor/"+t.floorId).then(function(e){null!=e.data&&(console.log(e.data),e.data.angleImage>=270?t.elements[0].angle=e.data.angleImage-360:t.elements[0].angle=e.data.angleImage,t.elements[0].scaleX=e.data.scaleX,t.elements[0].scaleY=e.data.scaleX,t.elements[0].x=e.data.xImage,t.elements[0].y=e.data.yImage,t.elements[0].height=e.data.heightImage,t.elements[0].width=e.data.widthImage,t.coordinates=e.data.location[0],t.floor=e.data,t.zoom=e.data.zoom,t.imgScale=e.data.scaleX,t.realImgScale=e.data.scaleX,t.imgRotation=e.data.angleImage*Math.PI/180,t.image=!0,alert("ciao"),h.a.get("http://localhost:3000/image/"+e.data.image[0]).then(function(e){if(null!=e.data){var o=e.data.path.replace("dist/","");t.imgSrc="http://localhost:3000/"+o}}).catch(function(e){t.errors.push(e)}))}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})},methods:{update:function(t,e){this.elements=this.elements.map(function(o){return console.log(e),console.log(o.angle),o.id===t?O()({},o,e):o})},getElementStyles:function(t){var e=t.styles?t.styles:{};return O()({width:t.width+"px",height:t.height+"px"},e)},ModifyImage:function(){this.imgStatic=!1,this.elements[0].styles.backgroundImage="url("+this.imgSrc+")",console.log(this.elements[0])},onSubmit:function(t){var e=this;t.preventDefault(),h.a.put("http://localhost:3000/floor/"+this.$route.params.id_floor,this.floor).then(function(t){e.$router.push({name:"ShowFloor",params:{id_building:e.$route.params.id_building,id_floor:e.$route.params.id_floor}})}).catch(function(t){e.errors.push(t)})}},watch:{zoom:function(t){console.log("1"),this.imgScale=this.realImgScale,null!==this.precedentZoom&&this.imgStatic&&(this.precedentZoom<this.zoom?(this.realImgScale=2*this.realImgScale,this.imgScale=2*this.imgScale):(this.imgScale=this.imgScale/2,this.realImgScale=this.realImgScale/2),this.realImgScale<1e-11&&(this.imgScale=.03)),this.precedentZoom=this.zoom}}},et={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n        Edit Floor\n        "),o("router-link",{attrs:{to:{name:"ShowFloor",params:{id:t.floor._id}}}},[t._v("(Show Floor)")])],1),t._v(" "),o("b-form",{on:{submit:t.onSubmit}},[o("b-form-group",{attrs:{id:"fieldsetHorizontal",horizontal:"","label-cols":4,breakpoint:"md",label:"Enter Number"}},[o("b-form-input",{attrs:{id:"number",state:t.state},model:{value:t.floor.number,callback:function(e){t.$set(t.floor,"number","string"==typeof e?e.trim():e)},expression:"floor.number"}})],1),t._v(" "),o("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Update")])],1),t._v(" "),o("button",{on:{click:t.ModifyImage}},[t._v(" Riposiziona Immagine ")])],1)],1),t._v(" "),o("div",{staticStyle:{height:"100%",width:"100%"}},[t.showMap?o("vl-map",{ref:"map",attrs:{"data-projection":"EPSG:3857",renderer:"webgl"}},[o("vl-view",{attrs:{center:t.center,rotation:t.rotation,zoom:t.zoom},on:{"update:center":function(e){t.center=e},"update:rotation":function(e){t.rotation=e},"update:zoom":function(e){t.zoom=e}}}),t._v(" "),o("div",{staticClass:"wrapper",attrs:{position:"absolute"}},[o("div",{ref:"workspace",staticClass:"workspace"},t._l(t.elements,function(e){return o("FreeTransform",{key:e.id,attrs:{x:e.x,y:e.y,"scale-x":e.scaleX,"scale-y":e.scaleY,width:e.width,height:e.height,angle:e.angle,"offset-x":t.offsetX,"offset-y":t.offsetY,"disable-scale":!1===e.disableScale},on:{update:function(o){return t.update(e.id,o)}}},[o("div",{staticClass:"element",style:t.getElementStyles(e)},[t._v("\n                  "+t._s(e.text)+"\n                ")])])}),1)]),t._v(" "),o("vl-layer-tile",[o("vl-source-osm")],1),t._v(" "),t.imgStatic&&t.image?o("vl-feature",{attrs:{id:"static-image"}},[o("vl-geom-point",{attrs:{coordinates:t.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{id:"image",src:t.imgSrc,opacity:.6,scale:t.imgScale,anchor:t.imgAnchor,rotation:t.imgRotation},on:{"update:scale":function(e){t.imgScale=e},"update:rotation":function(e){t.imgRotation=e}}})],1)],1):t._e()],1):t._e()],1)],1)},staticRenderFns:[]};var ot=o("VU/8")(tt,et,!1,function(t){o("inEY")},null,null).exports,at={name:"AnchorList",data:function(){return{fields:{_id:{label:"ID",sortable:!0,class:"text-center"},name:{label:"Name",sortable:!0,class:"text-center"},id_building:{label:"ID building",sortable:!0,class:"text-center"},id_floor:{label:"ID floor",sortable:!0,class:"text-center"},description:{label:"Name",sortable:!0,class:"text-center"},location:{label:"Location",class:"text-center"},updated_date:{label:"Updated at",sortable:!0,class:"text-center"},actions:{label:"Action",class:"text-center"}},anchorsId:[],anchors:[],errors:[],addAnchor:"#/building/"+this.$route.params.id_building+"/floor/"+this.$route.params.id_floor+"/add-anchor"}},created:function(){var t=this;h.a.get("http://localhost:3000/floor/"+this.$route.params.id_floor).then(function(e){for(var o in t.anchorsId=e.data.anchors,t.anchorsId)h.a.get("http://localhost:3000/anchor/"+t.anchorsId[o]).then(function(e){null!=e.data&&t.anchors.push(e.data)}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})},methods:{details:function(t){this.$router.push({name:"ShowAnchor",params:{id_building:this.$route.params.id_building,id_floor:this.$route.params.id_floor,id_anchor:t._id}})}}},it={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      Anchor List\n      "),o("b-link",{attrs:{href:t.addAnchor}},[t._v("(Add Anchor)")])],1),t._v(" "),o("b-table",{class:t.$parent.selectedTheme,attrs:{striped:"",hover:"",items:t.anchors,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[o("b-btn",{attrs:{size:"sm"},on:{click:function(o){return o.stopPropagation(),t.details(e.item)}}},[t._v("Details")])]}}])}),t._v(" "),t.errors&&t.errors.length?o("ul",t._l(t.errors,function(e){return o("li",{key:e},[t._v("\n        "+t._s(e.message)+"\n      ")])}),0):t._e()],1)],1)},staticRenderFns:[]},rt=o("VU/8")(at,it,!1,null,null,null).exports,nt={name:"CreateAnchor",data:function(){return{anchor:{},anchorId:void 0,floor:{},floorId:void 0,anchorList:"",errors:[],floorList:"",currentZoom:void 0,geocoder:void 0,scaleX:void 0,scaleY:void 0,selectedFeatures:[],drawnFeatures:[],newFeatures:[],drawType:"Point",interactionType:null,zoom:void 0,precedentZoom:null,center:[0,0],rotation:0,features:[],showMap:!0,image:!1,imgSize:[],imgExtent:[],imgCenter:void 0,imgRotation:0,imgScaleValue:.4,imgAnchor:[0,0],imgStatic:!0,imgScale:void 0,realImgScale:void 0,coordinates:[0,0],imgSrc:"",clickCoord:void 0,continuePost:void 0,anchorsName:[]}},created:function(){var t=this;this.anchorList="#/building/"+this.$route.params.id_building+"/floor/"+this.$route.params.id_floor+"/anchors",this.floorId=this.$route.params.id_floor,h.a.get("http://localhost:3000/building/"+this.$route.params.id_building).then(function(e){t.center=e.data.coordinates,h.a.get("http://localhost:3000/floor/"+t.floorId).then(function(e){if(null!=e.data){for(var o in console.log(e.data.location),t.floor=e.data,t.coordinates=e.data.location[0],t.imgRotation=e.data.angleImage*Math.PI/180,t.imgScale=e.data.scaleX,t.realImgScale=e.data.scaleX,t.image=!0,t.zoom=e.data.zoom,t.imgSize=[e.data.widthImage,e.data.heightImage],e.data.anchors)h.a.get("http://localhost:3000/anchor/"+e.data.anchors[o]).then(function(e){t.anchorsName.push(e.data.name);var o,a={type:"Feature",id:"feature-Point-"+e.data._id,properties:{},geometry:{type:"Point"}};o=e.data.location,a.geometry.coordinates=o,t.features.push(a)}).catch(function(e){t.errors.push(e)});h.a.get("http://localhost:3000/image/"+e.data.image[0]).then(function(e){if(console.log(e),null!=e.data){var o=e.data.path.replace("dist/","");t.imgSrc="http://localhost:3000/"+o}}).catch(function(e){t.errors.push(e)})}}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})},methods:{reset:function(){console.log(this.drawnFeatures),this.newFeatures=[],this.drawnFeatures=[],this.interactionType="draw"},onSubmit:function(t){var e=this;for(var o in t.preventDefault(),this.continuePost=!0,null==this.anchor.location&&(this.continuePost=!1,alert("insert an anchor")),null!=this.anchor.name&&""!==this.anchor.name||(this.continuePost=!1,alert("insert an anchor name")),this.anchor.id_building=this.$route.params.id_building,this.anchor.id_floor=this.$route.params.id_floor,this.anchor.id_user=JSON.parse(localStorage.getItem("user"))._id,this.floorId=this.$route.params.id_floor,this.anchorsName)if(this.anchor.name===this.anchorsName[o]){this.continuePost=!1,alert("anchor's name already insert");break}this.continuePost&&h.a.post("http://localhost:3000/anchor/",this.anchor).then(function(t){e.anchorId=t.data._id,h.a.get("http://localhost:3000/floor/"+e.floorId).then(function(t){e.floor=t.data,e.floor.anchors.push(e.anchorId),h.a.put("http://localhost:3000/floor/"+e.floorId,e.floor).then(function(t){e.$router.push({name:"ShowAnchor",params:{id_building:e.$route.params.id_building,id_floor:e.$route.params.id_floor,id_anchor:e.anchorId}})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}},watch:{drawnFeatures:function(t){if(t.length>0){var e,o=t.length-1,a=t[0].geometry.type,i={type:"Feature",id:"feature-"+a+"-"+o,properties:{},geometry:{type:a}};e=t[o].geometry.coordinates,this.anchor.location=e,i.geometry.coordinates=e,this.newFeatures.push(i),this.interactionType=null,this.clickCoord=e}},zoom:function(t){this.imgScale=this.realImgScale,null!==this.precedentZoom&&(this.precedentZoom<this.zoom?(this.realImgScale=2*this.realImgScale,this.imgScale=2*this.imgScale):(this.imgScale=this.imgScale/2,this.realImgScale=this.realImgScale/2),this.realImgScale<1e-11&&(this.imgScale=.03)),this.precedentZoom=this.zoom}}},st={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n        Add Anchor\n        "),o("b-link",{attrs:{href:t.anchorList}},[t._v("(Anchor List)")])],1),t._v(" "),o("b-form",{on:{submit:t.onSubmit}},[o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Name"}},[o("b-form-input",{attrs:{id:"name",state:t.state},model:{value:t.anchor.name,callback:function(e){t.$set(t.anchor,"name","string"==typeof e?e.trim():e)},expression:"anchor.name"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Description"}},[o("b-form-textarea",{attrs:{id:"description",placeholder:"Enter something",rows:2,"max-rows":6},model:{value:t.anchor.description,callback:function(e){t.$set(t.anchor,"description",e)},expression:"anchor.description"}},[t._v(t._s(t.anchor.description))])],1),t._v(" "),o("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Save")])],1)],1)],1),t._v(" "),o("button",{on:{click:t.reset}},[t._v("Disegna Ancora")]),t._v(" "),o("div",{staticStyle:{height:"100%",width:"100%"}},[t.showMap?o("vl-map",{ref:"map",attrs:{"data-projection":"EPSG:3857",renderer:"webgl"}},[o("vl-view",{attrs:{center:t.center,rotation:t.rotation,zoom:t.zoom},on:{"update:center":function(e){t.center=e},"update:rotation":function(e){t.rotation=e},"update:zoom":function(e){t.zoom=e}}}),t._v(" "),o("vl-layer-tile",[o("vl-source-osm")],1),t._v(" "),t.imgStatic&&t.image?o("vl-feature",{attrs:{id:"static-image"}},[o("vl-geom-point",{attrs:{coordinates:t.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{id:"image",src:t.imgSrc,opacity:.6,scale:t.imgScale,anchor:t.imgAnchor,rotation:t.imgRotation},on:{"update:scale":function(e){t.imgScale=e},"update:rotation":function(e){t.imgRotation=e}}})],1)],1):t._e(),t._v(" "),o("vl-layer-vector",{attrs:{id:"features"}},[o("vl-source-vector",{attrs:{features:t.features},on:{"update:features":function(e){t.features=e}}})],1),t._v(" "),t._l(t.features,function(e,a){return[o("vl-feature",{key:a},[o("vl-geom-point",{attrs:{coordinates:e.geometry.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/marker.png",scale:.4,anchor:[.5,1]}})],1)],1)]}),t._v(" "),o("vl-layer-vector",{attrs:{id:"newFeatures"}},[o("vl-source-vector",{attrs:{features:t.newFeatures},on:{"update:features":function(e){t.newFeatures=e}}})],1),t._v(" "),t._l(t.newFeatures,function(e,a){return[o("vl-feature",{key:a},[o("vl-geom-point",{attrs:{coordinates:e.geometry.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/marker.png",scale:.4,anchor:[.5,1]}})],1),t._v(" "),t.clickCoord?o("vl-overlay",{key:a,staticStyle:{background:"white",padding:"10px"},attrs:{position:t.clickCoord}},[t._v("\n              "+t._s(t.clickCoord)+"\n              "),o("button",{on:{click:function(e){t.clickCoord=void 0}}},[t._v("close")])]):t._e()],1)]}),t._v(" "),o("vl-layer-vector",{attrs:{id:"draw-pane","z-index":0}},[o("vl-source-vector",{attrs:{features:t.drawnFeatures,ident:"draw-target"},on:{"update:features":function(e){t.drawnFeatures=e}}})],1),t._v(" "),"draw"==t.interactionType?o("vl-interaction-draw",{attrs:{type:t.drawType,source:"draw-target"}}):t._e()],2):t._e()],1)],1)},staticRenderFns:[]},lt=o("VU/8")(nt,st,!1,null,null,null).exports,ct={name:"EditAnchor",data:function(){return{anchor:{},floor:{},errors:[],imgStatic:!0,image:!1,showMap:!0,coordinates:void 0,center:[0,0],rotation:0,zoom:void 0,imgSrc:"",imgScale:void 0,imgRotation:void 0,features:[],floorId:void 0,buildingId:void 0,precedentZoom:null,realImgScale:void 0,imgAnchor:[0,0],clickCoord:void 0,drawnFeatures:[],drawType:"Point",interactionType:null}},created:function(){var t=this;this.anchorList="#/building/"+this.$route.params.id_building+"/floor/"+this.$route.params.id_floor+"/anchors",this.floorId=this.$route.params.id_floor,this.buildingId=this.$route.params.id_building,h.a.get("http://localhost:3000/building/"+this.buildingId).then(function(e){t.center=e.data.coordinates,h.a.get("http://localhost:3000/floor/"+t.floorId).then(function(e){t.coordinates=e.data.location[0],t.imgRotation=e.data.angleImage*Math.PI/180,t.imgScale=e.data.scaleX,t.realImgScale=e.data.scaleX,t.image=!0,t.zoom=e.data.zoom,h.a.get("http://localhost:3000/image/"+e.data.image[0]).then(function(e){if(console.log(e),null!=e.data){var o=e.data.path.replace("dist/","");t.imgSrc="http://localhost:3000/"+o}}).catch(function(e){t.errors.push(e)}),h.a.get("http://localhost:3000/anchor/"+t.$route.params.id_anchor).then(function(e){t.anchor=e.data;var o,a={type:"Feature",id:"feature-Point-"+e.data._id,properties:{},geometry:{type:"Point"}};o=e.data.location,a.geometry.coordinates=o,t.clickCoord=o,t.features.push(a)}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})},methods:{reset:function(){console.log(this.drawnFeatures),this.features=[],this.drawnFeatures=[],this.interactionType="draw"},onSubmit:function(t){var e=this;t.preventDefault(),h.a.put("http://localhost:3000/anchor/"+this.$route.params.id_anchor,this.anchor).then(function(t){e.$router.push({name:"ShowAnchor",params:{id_building:e.$route.params.id_building,id_floor:e.$route.params.id_floor,id_anchor:e.$route.params.id_anchor}})}).catch(function(t){e.errors.push(t)})}},watch:{drawnFeatures:function(t){if(t.length>0){var e,o=t.length-1,a=t[0].geometry.type,i={type:"Feature",id:"feature-"+a+"-"+o,properties:{},geometry:{type:a}};e=t[o].geometry.coordinates,this.anchor.location=e,i.geometry.coordinates=e,this.features.push(i),this.interactionType=null,this.clickCoord=e}},zoom:function(t){this.imgScale=this.realImgScale,null!==this.precedentZoom&&(this.precedentZoom<this.zoom?(this.realImgScale=2*this.realImgScale,this.imgScale=2*this.imgScale):(this.imgScale=this.imgScale/2,this.realImgScale=this.realImgScale/2),this.realImgScale<1e-11&&(this.imgScale=.03)),this.precedentZoom=this.zoom}}},dt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n        Edit Anchor\n        "),o("b-link",{attrs:{href:t.anchorList}},[t._v("(Anchor List)")])],1),t._v(" "),o("b-form",{on:{submit:t.onSubmit}},[o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Name"}},[o("b-form-input",{attrs:{id:"name",state:t.state},model:{value:t.anchor.name,callback:function(e){t.$set(t.anchor,"name","string"==typeof e?e.trim():e)},expression:"anchor.name"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Enter Description"}},[o("b-form-textarea",{attrs:{id:"description",placeholder:"Enter something",rows:2,"max-rows":6},model:{value:t.anchor.description,callback:function(e){t.$set(t.anchor,"description",e)},expression:"anchor.description"}},[t._v(t._s(t.anchor.description))])],1),t._v(" "),o("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Update")])],1),t._v(" "),o("button",{on:{click:t.reset}},[t._v("Modifica Ancora")])],1)],1),t._v(" "),o("div",{staticStyle:{height:"100%",width:"100%"}},[t.showMap?o("vl-map",{ref:"map",attrs:{"data-projection":"EPSG:3857",renderer:"webgl"}},[o("vl-view",{attrs:{center:t.center,rotation:t.rotation,zoom:t.zoom},on:{"update:center":function(e){t.center=e},"update:rotation":function(e){t.rotation=e},"update:zoom":function(e){t.zoom=e}}}),t._v(" "),o("vl-layer-tile",[o("vl-source-osm")],1),t._v(" "),t.imgStatic&&t.image?o("vl-feature",{attrs:{id:"static-image"}},[o("vl-geom-point",{attrs:{coordinates:t.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{id:"image",src:t.imgSrc,opacity:.6,scale:t.imgScale,anchor:t.imgAnchor,rotation:t.imgRotation},on:{"update:scale":function(e){t.imgScale=e},"update:rotation":function(e){t.imgRotation=e}}})],1)],1):t._e(),t._v(" "),o("vl-layer-vector",{attrs:{id:"features"}},[o("vl-source-vector",{attrs:{features:t.features},on:{"update:features":function(e){t.features=e}}})],1),t._v(" "),t._l(t.features,function(e,a){return[o("vl-feature",{key:a},[o("vl-geom-point",{attrs:{coordinates:e.geometry.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/marker.png",scale:.4,anchor:[.5,1]}})],1),t._v(" "),t.clickCoord?o("vl-overlay",{key:a,staticStyle:{background:"black",padding:"10px"},attrs:{position:t.clickCoord}},[t._v("\n              "+t._s(t.clickCoord)+"\n              "),o("button",{on:{click:function(e){t.clickCoord=void 0}}},[t._v("close")])]):t._e()],1)]}),t._v(" "),o("vl-layer-vector",{attrs:{id:"draw-pane","z-index":0}},[o("vl-source-vector",{attrs:{features:t.drawnFeatures,ident:"draw-target"},on:{"update:features":function(e){t.drawnFeatures=e}}})],1),t._v(" "),"draw"==t.interactionType?o("vl-interaction-draw",{attrs:{type:t.drawType,source:"draw-target"}}):t._e()],2):t._e()],1)],1)},staticRenderFns:[]},ut=o("VU/8")(ct,dt,!1,null,null,null).exports,ht={name:"ShowAnchor",data:function(){return{anchor:{},floor:{},errors:[],imgStatic:!0,image:!1,showMap:!0,coordinates:void 0,center:[0,0],rotation:0,zoom:void 0,imgSrc:"",imgScale:void 0,imgRotation:void 0,features:[],floorId:void 0,buildingId:void 0,precedentZoom:null,realImgScale:void 0,imgAnchor:[0,0],clickCoord:void 0}},created:function(){var t=this;this.anchorList="#/building/"+this.$route.params.id_building+"/floor/"+this.$route.params.id_floor+"/anchors",this.floorId=this.$route.params.id_floor,this.buildingId=this.$route.params.id_building,h.a.get("http://localhost:3000/building/"+this.buildingId).then(function(e){t.center=e.data.coordinates,h.a.get("http://localhost:3000/floor/"+t.floorId).then(function(e){t.coordinates=e.data.location[0],t.imgRotation=e.data.angleImage*Math.PI/180,t.imgScale=e.data.scaleX,t.realImgScale=e.data.scaleX,t.image=!0,t.zoom=e.data.zoom,h.a.get("http://localhost:3000/image/"+e.data.image[0]).then(function(e){if(console.log(e),null!=e.data){var o=e.data.path.replace("dist/","");t.imgSrc="http://localhost:3000/"+o}}).catch(function(e){t.errors.push(e)}),h.a.get("http://localhost:3000/anchor/"+t.$route.params.id_anchor).then(function(e){t.anchor=e.data;var o,a={type:"Feature",id:"feature-Point-"+e.data._id,properties:{},geometry:{type:"Point"}};o=e.data.location,a.geometry.coordinates=o,t.clickCoord=o,t.features.push(a)}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)})},methods:{editanchor:function(t){this.$router.push({name:"EditAnchor",params:{id_anchor:t}})},deleteanchor:function(t){var e=this;h.a.delete("http://localhost:3000/anchor/"+t).then(function(o){h.a.get("http://localhost:3000/floor/"+e.$route.params.id_floor).then(function(o){var a=o.data.anchors.indexOf(t);a>-1&&(o.data.anchors.splice(a,1),e.floor=o.data),h.a.put("http://localhost:3000/floor/"+e.$route.params.id_floor,e.floor).then(function(t){e.$router.push({name:"AnchorList"})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}).catch(function(t){e.errors.push(t)})}},watch:{zoom:function(t){this.imgScale=this.realImgScale,null!==this.precedentZoom&&(this.precedentZoom<this.zoom?(this.realImgScale=2*this.realImgScale,this.imgScale=2*this.imgScale):(this.imgScale=this.imgScale/2,this.realImgScale=this.realImgScale/2),this.realImgScale<1e-11&&(this.imgScale=.03)),this.precedentZoom=this.zoom}}},mt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n        Show Anchor\n        "),o("b-link",{attrs:{href:t.anchorList}},[t._v("(Anchor List)")])],1),t._v(" "),o("b-jumbotron",[o("template",{slot:"header"},[t._v("\n          "+t._s(t.anchor.name)+"\n        ")]),t._v(" "),o("template",{slot:"lead"},[t._v("\n          name: "+t._s(t.anchor.name)),o("br")]),t._v(" "),o("template",{slot:"lead"},[t._v("\n          description: "+t._s(t.anchor.description)),o("br")]),t._v(" "),o("hr",{staticClass:"my-4"}),t._v(" "),o("p",[t._v("\n          Updated Date: "+t._s(t.anchor.updated_date)+"\n        ")]),t._v(" "),o("b-btn",{attrs:{variant:"success"},on:{click:function(e){return e.stopPropagation(),t.editanchor(t.anchor._id)}}},[t._v("Edit")]),t._v(" "),o("b-btn",{attrs:{variant:"danger"},on:{click:function(e){return e.stopPropagation(),t.deleteanchor(t.anchor._id)}}},[t._v("Delete")])],2)],1)],1),t._v(" "),o("div",{staticStyle:{height:"50%",width:"100%"}},[t.showMap?o("vl-map",{ref:"map",attrs:{"data-projection":"EPSG:3857",renderer:"webgl"}},[o("vl-view",{attrs:{center:t.center,rotation:t.rotation,zoom:t.zoom},on:{"update:center":function(e){t.center=e},"update:rotation":function(e){t.rotation=e},"update:zoom":function(e){t.zoom=e}}}),t._v(" "),o("vl-layer-tile",[o("vl-source-osm")],1),t._v(" "),t.imgStatic&&t.image?o("vl-feature",{attrs:{id:"static-image"}},[o("vl-geom-point",{attrs:{coordinates:t.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{id:"image",src:t.imgSrc,opacity:.6,scale:t.imgScale,anchor:t.imgAnchor,rotation:t.imgRotation},on:{"update:scale":function(e){t.imgScale=e},"update:rotation":function(e){t.imgRotation=e}}})],1)],1):t._e(),t._v(" "),o("vl-layer-vector",{attrs:{id:"features"}},[o("vl-source-vector",{attrs:{features:t.features},on:{"update:features":function(e){t.features=e}}})],1),t._v(" "),t._l(t.features,function(e,a){return[o("vl-feature",{key:a},[o("vl-geom-point",{attrs:{coordinates:e.geometry.coordinates,"z-index":3}}),t._v(" "),o("vl-style-box",[o("vl-style-icon",{attrs:{src:"static/marker.png",scale:.4,anchor:[.5,1]}})],1),t._v(" "),t.clickCoord?o("vl-overlay",{key:a,staticStyle:{background:"black",padding:"10px"},attrs:{position:t.clickCoord}},[t._v("\n              "+t._s(t.clickCoord)+"\n              "),o("button",{on:{click:function(e){t.clickCoord=void 0}}},[t._v("close")])]):t._e()],1)]})],2):t._e()],1)],1)},staticRenderFns:[]};var gt=o("VU/8")(ht,mt,!1,function(t){o("jbH9")},null,null).exports,ft={name:"BuildingList",data:function(){return{fields:{_id:{label:"ID",sortable:!0,class:"text-center"},id_user:{label:"ID user",sortable:!0,class:"text-center"},title:{label:"Title",sortable:!0,class:"text-center"},description:{label:"Description",sortable:!0,class:"text-center"},road:{label:"Road",sortable:!0,class:"text-center"},number:{label:"Number",sortable:!0,class:"text-center"},postcode:{label:"Postcode",sortable:!0,class:"text-center"},city:{label:"City",sortable:!0,class:"text-center"},country:{label:"Country",sortable:!0,class:"text-center"},map_image:{label:"Map image",sortable:!0,class:"text-center"},coordinates:{label:"Coordinates",sortable:!0,class:"text-center"},updated_date:{label:"Updated at",sortable:!0,class:"text-center"},actions:{label:"Action",class:"text-center"}},buildings:[],errors:[]}},created:function(){var t=this;h.a.get("http://localhost:3000/building").then(function(e){t.buildings=e.data}).catch(function(e){t.errors.push(e)})},methods:{details:function(t){this.$router.push({name:"ShowBuilding",params:{id_building:t._id}})}}},pt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      Building List\n    ")]),t._v(" "),o("b-table",{class:t.$parent.selectedTheme,attrs:{striped:"",hover:"",items:t.buildings,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[o("b-btn",{attrs:{size:"sm"},on:{click:function(o){return o.stopPropagation(),t.details(e.item)}}},[t._v("Details")])]}}])}),t._v(" "),t.errors&&t.errors.length?o("ul",t._l(t.errors,function(e){return o("li",{key:e},[t._v("\n        "+t._s(e.message)+"\n      ")])}),0):t._e()],1)],1)},staticRenderFns:[]},bt=o("VU/8")(ft,pt,!1,null,null,null).exports,vt={name:"UserList",data:function(){return{fields:{_id:{label:"ID",sortable:!0,class:"text-center"},name:{label:"Name",sortable:!0,class:"text-center"},surname:{label:"Surname",sortable:!0,class:"text-center"},username:{label:"Username",sortable:!0,class:"text-center"},updated_date:{label:"Updated at",sortable:!0,class:"text-center"},actions:{label:"Action",class:"text-center"}},users:[],errors:[]}},created:function(){var t=this;h.a.get("http://localhost:3000/user").then(function(e){t.users=e.data}).catch(function(e){t.errors.push(e)})},methods:{details:function(t){this.$router.push({name:"ShowUser",params:{id_building:t._id}})}}},_t={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      User List\n      "),o("b-link",{attrs:{href:"#/add-user"}},[t._v("(Add User)")])],1),t._v(" "),o("b-table",{class:t.$parent.selectedTheme,attrs:{striped:"",hover:"",items:t.users,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[o("b-btn",{attrs:{size:"sm"},on:{click:function(o){return o.stopPropagation(),t.details(e.item)}}},[t._v("Details")])]}}])}),t._v(" "),t.errors&&t.errors.length?o("ul",t._l(t.errors,function(e){return o("li",{key:e},[t._v("\n        "+t._s(e.message)+"\n      ")])}),0):t._e()],1)],1)},staticRenderFns:[]},yt=o("VU/8")(vt,_t,!1,null,null,null).exports,wt={name:"FloorList",data:function(){return{fields:{_id:{label:"ID",sortable:!0,class:"text-center"},number:{label:"Number",sortable:!0,class:"text-center"},id_user:{label:"ID user",sortable:!0,class:"text-center"},id_building:{label:"ID building",sortable:!0,class:"text-center"},angleImage:{label:"AngleImage",sortable:!0,class:"text-center"},widthImage:{label:"WidthImage",sortable:!0,class:"text-center"},heightImage:{label:"HeightImage",sortable:!0,class:"text-center"},xImage:{label:"XImage",sortable:!0,class:"text-center"},yImage:{label:"YImage",sortable:!0,class:"text-center"},scaleX:{label:"ScaleX",sortable:!0,class:"text-center"},scaleY:{label:"ScaleY",sortable:!0,class:"text-center"},location:{label:"Location",sortable:!0,class:"text-center"},image:{label:"Image",sortable:!0,class:"text-center"},zoom:{label:"Zoom",sortable:!0,class:"text-center"},updated_date:{label:"Updated at",sortable:!0,class:"text-center"},actions:{label:"Action",class:"text-center"}},floorsId:[],floors:[],errors:[]}},created:function(){var t=this;h.a.get("http://localhost:3000/floor/").then(function(e){null!=e.data&&(t.floors=e.data)}).catch(function(e){t.errors.push(e)})},methods:{details:function(t){console.log(t),this.$router.push({name:"ShowFloor",params:{id_building:t.id_building,id_floor:t._id}})}}},St={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      Floor List\n    ")]),t._v(" "),o("b-table",{class:t.$parent.selectedTheme,attrs:{striped:"",hover:"",items:t.floors,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[o("b-btn",{attrs:{size:"sm"},on:{click:function(o){return o.stopPropagation(),t.details(e.item)}}},[t._v("Details")])]}}])}),t._v(" "),t.errors&&t.errors.length?o("ul",t._l(t.errors,function(e){return o("li",{key:e},[t._v("\n        "+t._s(e.message)+"\n      ")])}),0):t._e()],1)],1)},staticRenderFns:[]},xt=o("VU/8")(wt,St,!1,null,null,null).exports,kt={name:"AnchorList",data:function(){return{fields:{_id:{label:"ID",sortable:!0,class:"text-center"},name:{label:"Name",sortable:!0,class:"text-center"},id_user:{label:"ID user",sortable:!0,class:"text-center"},id_building:{label:"ID building",sortable:!0,class:"text-center"},id_floor:{label:"ID floor",sortable:!0,class:"text-center"},description:{label:"Name",sortable:!0,class:"text-center"},location:{label:"Location",class:"text-center"},updated_date:{label:"Updated at",sortable:!0,class:"text-center"},actions:{label:"Action",class:"text-center"}},anchorsId:[],anchors:[],errors:[]}},created:function(){var t=this;h.a.get("http://localhost:3000/anchor/").then(function(e){null!=e.data&&(t.anchors=e.data)}).catch(function(e){t.errors.push(e)})},methods:{details:function(t){this.$router.push({name:"ShowAnchor",params:{id_building:t.id_building,id_floor:t.id_floor,id_anchor:t._id}})}}},It={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("h2",[t._v("\n      Anchor List\n    ")]),t._v(" "),o("b-table",{class:t.$parent.selectedTheme,attrs:{striped:"",hover:"",items:t.anchors,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[o("b-btn",{attrs:{size:"sm"},on:{click:function(o){return o.stopPropagation(),t.details(e.item)}}},[t._v("Details")])]}}])}),t._v(" "),t.errors&&t.errors.length?o("ul",t._l(t.errors,function(e){return o("li",{key:e},[t._v("\n        "+t._s(e.message)+"\n      ")])}),0):t._e()],1)],1)},staticRenderFns:[]},$t=o("VU/8")(kt,It,!1,null,null,null).exports,zt={name:"Upload",data:function(){return{msg:"Vue Image Upload and Resize Demo",hasImage:!1,image:null}},methods:{setImage:function(t){this.hasImage=!0,this.image=t,console.log(this.image)}}},Ft={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("h1",[t._v(t._s(t.msg))]),t._v(" "),o("div",{staticClass:"my-8"},[o("image-uploader",{attrs:{preview:!0,className:["fileinput",{"fileinput--loaded":t.hasImage}],capture:"environment",debug:1,doNotResize:"gif",autoRotate:!0,outputFormat:"verbose"},on:{input:t.setImage}},[o("label",{attrs:{slot:"upload-label",for:"fileInput"},slot:"upload-label"},[o("figure",[o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[o("path",{staticClass:"path1",attrs:{d:"M9.5 19c0 3.59 2.91 6.5 6.5 6.5s6.5-2.91 6.5-6.5-2.91-6.5-6.5-6.5-6.5 2.91-6.5 6.5zM30 8h-7c-0.5-2-1-4-3-4h-8c-2 0-2.5 2-3 4h-7c-1.1 0-2 0.9-2 2v18c0 1.1 0.9 2 2 2h28c1.1 0 2-0.9 2-2v-18c0-1.1-0.9-2-2-2zM16 27.875c-4.902 0-8.875-3.973-8.875-8.875s3.973-8.875 8.875-8.875c4.902 0 8.875 3.973 8.875 8.875s-3.973 8.875-8.875 8.875zM30 14h-4v-2h4v2z"}})])]),t._v(" "),o("span",{staticClass:"upload-caption"},[t._v(t._s(t.hasImage?"Replace":"Click to upload"))])])])],1),t._v(" "),o("h2",[t._v("Essential Links")]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"https://www.npmjs.com/package/vue-image-upload-resize",target:"_blank"}},[this._v("\n        npm package\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/kartoteket/vue-image-upload-resize",target:"_blank"}},[this._v("\n        github page\n      ")])])])}]};var Pt=o("VU/8")(zt,Ft,!1,function(t){o("Ws2N")},null,null).exports,At={name:"ManipulateImage",components:{FreeTransform:J.a},data:function(){return{elements:[{id:"el-1",x:100,y:100,scaleX:1,scaleY:1,width:100,height:100,angle:0,classPrefix:"tr",text:"upload image",styles:{backgroundImage:void 0,opacity:.7}}],offsetX:0,offsetY:0}},mounted:function(){this.offsetX=this.$refs.workspace.offsetLeft,this.offsetY=this.$refs.workspace.offsetTop},methods:{update:function(t,e){this.elements=this.elements.map(function(o){return o.id===t?O()({},o,e):o})},onFileChanged:function(t){alert(t);var e="static/"+t.target.files[0].name;this.resetElement(e)},onUpload:function(){console.log(this.img)},resetElement:function(){var t=Z()(V.a.mark(function t(e){var o;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(o=new Image).src=e,t.next=4,this.sleep(500);case 4:this.elements[0].width=o.width,this.elements[0].height=o.height,this.elements[0].angle=0,this.elements[0].text="",this.elements[0].styles.backgroundImage="url("+e+")",this.elements[0].scaleX=1,this.elements[0].scaleY=1,this.elements[0].x=100,this.elements[0].y=100;case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sleep:function(t){return new H.a(function(e){return setTimeout(e,t)})},getElementStyles:function(t){var e=t.styles?t.styles:{};return O()({width:t.width+"px",height:t.height+"px"},e)}}},Ct={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"click"}},[o("input",{attrs:{type:"file"},on:{change:t.onFileChanged}}),t._v(" "),o("button",{on:{click:t.onUpload}},[t._v("Upload!")])]),t._v(" "),o("div",{staticClass:"wrapper"},[o("div",{ref:"workspace",staticClass:"workspace"},t._l(t.elements,function(e){return o("FreeTransform",{key:e.id,attrs:{x:e.x,y:e.y,"scale-x":e.scaleX,"scale-y":e.scaleY,width:e.width,height:e.height,angle:e.angle,"offset-x":t.offsetX,"offset-y":t.offsetY,"disable-scale":!0===e.disableScale},on:{update:function(o){return t.update(e.id,o)}}},[o("div",{staticClass:"element",style:t.getElementStyles(e)},[t._v("\n          "+t._s(e.text)+"\n        ")])])}),1)])])},staticRenderFns:[]};var Lt=o("VU/8")(At,Ct,!1,function(t){o("t5zX")},null,null).exports,Et=o("mvHQ"),Rt=o.n(Et),Tt=o("NC6I"),Ut=o.n(Tt),Mt={name:"LoginPage",data:function(){return{errors:[],username:"",password:"",notPresent:!0}},methods:{login:function(){var t=this;h.a.get("http://localhost:3000/user").then(function(e){for(var o in e.data)t.username===e.data[o].username&&Ut()(t.password)===e.data[o].password&&(t.notPresent=!1,h.a.get("http://localhost:3000/user/"+e.data[o]._id).then(function(e){localStorage.setItem("user",Rt()(e.data.user)),localStorage.setItem("token",e.data.token),localStorage.setItem("auth",e.data.auth),t.$router.push({name:"BuildingList",params:{id_user:e.data.user._id}}),t.$router.go()}).catch(function(e){t.errors.push(e)}));t.notPresent&&alert("utente non registrato")}).catch(function(e){t.errors.push(e)})}}},Nt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("\n    Login\n  ")]),t._v(" "),o("b-form",[o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,"margin-right":"20px",label:"Username"}},[o("b-form-input",{staticStyle:{width:"50%"},attrs:{id:"username",autocomplete:"username"},model:{value:t.username,callback:function(e){t.username="string"==typeof e?e.trim():e},expression:"username"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,label:"Password"}},[o("b-form-input",{staticStyle:{width:"50%"},attrs:{id:"password",type:"password",autocomplete:"password"},model:{value:t.password,callback:function(e){t.password="string"==typeof e?e.trim():e},expression:"password"}})],1)],1),t._v(" "),o("div",{attrs:{id:"click"}},[o("button",{on:{click:t.login}},[t._v("login")]),t._v(" "),o("router-link",{staticClass:"btn btn-link",attrs:{to:"/auth/registration"}},[t._v("Register")])],1)],1)},staticRenderFns:[]},Dt=o("VU/8")(Mt,Nt,!1,null,null,null).exports,Bt={name:"LogoutPage",data:function(){return{errors:[],username:"",password:""}},methods:{logout:function(){localStorage.removeItem("user"),localStorage.removeItem("auth"),localStorage.removeItem("token"),this.$router.go()}}},Xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h2",[this._v("\n    Logout\n  ")]),this._v("\n  Are you sure to log out?\n  "),e("div",{attrs:{id:"click"}},[e("button",{on:{click:this.logout}},[this._v("Yes")])])])},staticRenderFns:[]},Ht=o("VU/8")(Bt,Xt,!1,null,null,null).exports,Yt={name:"RegisterPage",data:function(){return{errors:[],user:{},RepeatPassword:"",password:"",usernameOk:!0}},created:function(){},methods:{register:function(){var t=this;this.password!==this.RepeatPassword?alert("password errata"):(this.user.password=Ut()(this.password),this.usernameOk=!0,h.a.get("http://localhost:3000/user").then(function(e){for(var o in console.log(e.data),e.data)t.user.username===e.data[o].username&&(t.usernameOk=!1,alert("username già occupato"));t.usernameOk&&h.a.post("http://localhost:3000/user",t.user).then(function(e){console.log(e.data),t.$router.push({name:"BuildingList",params:{id_user:e.data.user._id}})}).catch(function(e){t.errors.push(e)})}).catch(function(e){t.errors.push(e)}))}}},Vt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("\n    Registration\n  ")]),t._v(" "),o("b-form",[o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Name"}},[o("b-form-input",{staticStyle:{width:"50%"},attrs:{id:"name",state:t.state},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name","string"==typeof e?e.trim():e)},expression:"user.name"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Surname"}},[o("b-form-input",{staticStyle:{width:"50%"},attrs:{id:"surname",state:t.state},model:{value:t.user.surname,callback:function(e){t.$set(t.user,"surname","string"==typeof e?e.trim():e)},expression:"user.surname"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Username"}},[o("b-form-input",{staticStyle:{width:"50%"},attrs:{id:"username",state:t.state},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username","string"==typeof e?e.trim():e)},expression:"user.username"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Password"}},[o("b-form-input",{staticStyle:{width:"50%"},attrs:{id:"password",type:"password",state:t.state},model:{value:t.password,callback:function(e){t.password="string"==typeof e?e.trim():e},expression:"password"}})],1),t._v(" "),o("b-form-group",{staticClass:"fieldsetHorizontal",attrs:{"label-cols":4,breakpoint:"md",label:"Repeat Password"}},[o("b-form-input",{staticStyle:{width:"50%"},attrs:{id:"Repeat_password",type:"password",state:t.state},model:{value:t.RepeatPassword,callback:function(e){t.RepeatPassword="string"==typeof e?e.trim():e},expression:"RepeatPassword"}})],1)],1),t._v(" "),o("div",{attrs:{id:"click"}},[o("button",{on:{click:t.register}},[t._v("Register")])])],1)},staticRenderFns:[]},qt=o("VU/8")(Yt,Vt,!1,null,null,null).exports;a.a.use(d.a);var Zt=new d.a({routes:[{path:"/",name:"Home",component:$,meta:{requiresAuth:!0}},{path:"/auth/login/",name:"LoginPage",component:Dt,meta:{guest:!0}},{path:"/auth/logout/",name:"LogoutPage",component:Ht,meta:{requiresAuth:!0}},{path:"/auth/registration/",name:"RegisterPage",component:qt,meta:{guest:!0}},{path:"/upload/",name:"Upload",component:Pt,meta:{requiresAuth:!0}},{path:"/manipulate-img/",name:"ManipulateImage",component:Lt,meta:{requiresAuth:!0}},{path:"/buildings/",name:"BuildingList",component:f,meta:{requiresAuth:!0}},{path:"/floors/",name:"FloorList",component:U,meta:{requiresAuth:!0}},{path:"/show-building/:id_building",name:"ShowBuilding",component:_,meta:{requiresAuth:!0}},{path:"/add-building",name:"CreateBuilding",component:$,meta:{requiresAuth:!0}},{path:"/edit-building/:id_building",name:"EditBuilding",component:A,meta:{requiresAuth:!0}},{path:"/building/:id_building/floors/",name:"FloorList",component:E,meta:{requiresAuth:!0}},{path:"/building/:id_building/show-floor/:id_floor",name:"ShowFloor",component:B,meta:{requiresAuth:!0}},{path:"/building/:id_building/add-floor",name:"CreateFloor",component:K,meta:{requiresAuth:!0}},{path:"/building/:id_building/edit-floor/:id_floor",name:"EditFloor",component:ot,meta:{requiresAuth:!0}},{path:"/building/:id_building/floor/:id_floor/anchors",name:"AnchorList",component:rt,meta:{requiresAuth:!0}},{path:"/building/:id_building/floor/:id_floor/show-anchor/:id_anchor",name:"ShowAnchor",component:gt,meta:{requiresAuth:!0}},{path:"/building/:id_building/floor/:id_floor/add-anchor",name:"CreateAnchor",component:lt,meta:{requiresAuth:!0}},{path:"/building/:id_building/floor/:id_floor/edit-anchor/:id_anchor",name:"EditAnchor",component:ut,meta:{requiresAuth:!0}},{path:"/admin/buildings",name:"AdminBuildingList",component:bt,meta:{requiresAuth:!0,is_admin:!0}},{path:"/admin/users",name:"AdminUserList",component:yt,meta:{requiresAuth:!0,is_admin:!0}},{path:"/admin/floors",name:"AdminFloorList",component:xt,meta:{requiresAuth:!0,is_admin:!0}},{path:"/admin/anchors",name:"AdminAnchorList",component:$t,meta:{requiresAuth:!0,is_admin:!0}}]}),jt=(o("Jmt5"),o("9M+g"),o("yXZZ")),Ot=o.n(jt),Gt=(o("JtrI"),o("5GP+")),Jt=(o("27If"),o("1LrH")),Wt=o.n(Jt),Qt=o("ppUw"),Kt=o.n(Qt);a.a.use(Kt.a),Kt.a.config("7d"),Kt.a.set("theme","default"),a.a.config.productionTip=!1,a.a.use(Gt.a),a.a.use(Ot.a),a.a.use(r.a),a.a.use(Wt.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:Zt,components:{App:c},template:"<App/>"})},"QNf+":function(t,e){},Ws2N:function(t,e){},"cI+1":function(t,e){},inEY:function(t,e){},jbH9:function(t,e){},t5zX:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7d6e12b4188d55f09487.js.map